@model IEnumerable<Alpaca.Web.CoreAlertTool.Models.AlertInfo>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

@{
    string nowStr = DateTime.Now.ToString("HH:mm:ss");
}
<h1 id="nowTime" align ="center">@nowStr</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.AlertTime)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.AlertName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.AlertType)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.AlertTime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AlertName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AlertType)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.AlertId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.AlertId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.AlertId">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>
<script>
        const setNowTime = () => {
        var now = new Date();
            var Hour = now.getHours();
            var Min = now.getMinutes();
            var Sec = now.getSeconds();
            if (Hour < 10) {
                Hour = "0" + Hour;
            }
            if (Min < 10) {
                Min = "0" + Min;
            }
            if (Sec < 10) {
                Sec = "0" + Sec;
            }
            document.getElementById("nowTime").innerHTML = Hour + ":" + Min + ":" + Sec;
        }
        setInterval(setNowTime, 1000);
</script>